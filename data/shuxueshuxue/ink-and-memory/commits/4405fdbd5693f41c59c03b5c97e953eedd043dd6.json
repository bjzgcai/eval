{
  "sha": "4405fdbd5693f41c59c03b5c97e953eedd043dd6",
  "node_id": "C_kwDOP2Zrm9oAKDQ0MDVmZGJkNTY5M2Y0MWM1OWMwM2I1Yzk3ZTk1M2VlZGQwNDNkZDY",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-11-18T08:20:33Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-11-18T08:20:33Z"
    },
    "message": "Add inline icon editing for voices\n\n- Add clickable icon badge with visual feedback\n- Add icon picker dropdown with 4x3 grid layout\n- Highlight current icon in dropdown\n- Auto-save and close picker on selection\n- Only editable for user-owned voices (not system voices)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
    "tree": {
      "sha": "4a4d2523d4c23ea0516d76c084b9c4a7991483b5",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/4a4d2523d4c23ea0516d76c084b9c4a7991483b5"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/4405fdbd5693f41c59c03b5c97e953eedd043dd6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/4405fdbd5693f41c59c03b5c97e953eedd043dd6",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/4405fdbd5693f41c59c03b5c97e953eedd043dd6",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/4405fdbd5693f41c59c03b5c97e953eedd043dd6/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "c6ee660c5d118f1d896ebc936548e5aa6fc9a431",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/c6ee660c5d118f1d896ebc936548e5aa6fc9a431",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/c6ee660c5d118f1d896ebc936548e5aa6fc9a431"
    }
  ],
  "stats": {
    "total": 111,
    "additions": 99,
    "deletions": 12
  },
  "files": [
    {
      "sha": "7d6f102f17a0728ebd0f1286b47a3f538ff10957",
      "filename": "frontend/src/components/DeckManager.tsx",
      "status": "modified",
      "additions": 99,
      "deletions": 12,
      "changes": 111,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/4405fdbd5693f41c59c03b5c97e953eedd043dd6/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/4405fdbd5693f41c59c03b5c97e953eedd043dd6/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx?ref=4405fdbd5693f41c59c03b5c97e953eedd043dd6",
      "patch": "@@ -74,6 +74,7 @@ export default function DeckManager({ onUpdate }: Props) {\n   const [error, setError] = useState<string | null>(null);\n   const [editingVoice, setEditingVoice] = useState<string | null>(null);\n   const [editingField, setEditingField] = useState<'name' | 'prompt' | null>(null);\n+  const [iconPickerOpen, setIconPickerOpen] = useState<string | null>(null); // @@@ Track which voice's icon picker is open\n   const [creatingDeck, setCreatingDeck] = useState(false);\n   const [creatingVoice, setCreatingVoice] = useState<string | null>(null);\n   const [publishWarning, setPublishWarning] = useState<string | null>(null);\n@@ -681,18 +682,104 @@ export default function DeckManager({ onUpdate }: Props) {\n                           >\n                             {/* Voice Header */}\n                             <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 12 }}>\n-                              <div style={{\n-                                width: 40,\n-                                height: 40,\n-                                borderRadius: 20,\n-                                background: `linear-gradient(135deg, ${voiceColor} 0%, ${voiceColor}cc 100%)`,\n-                                display: 'flex',\n-                                alignItems: 'center',\n-                                justifyContent: 'center',\n-                                color: '#fff',\n-                                flexShrink: 0\n-                              }}>\n-                                <VoiceIcon size={20} />\n+                              {/* @@@ Icon badge with picker */}\n+                              <div style={{ position: 'relative' }}>\n+                                <div\n+                                  onClick={() => {\n+                                    if (!isSystem) {\n+                                      setIconPickerOpen(iconPickerOpen === voice.id ? null : voice.id);\n+                                    }\n+                                  }}\n+                                  style={{\n+                                    width: 40,\n+                                    height: 40,\n+                                    borderRadius: 20,\n+                                    background: `linear-gradient(135deg, ${voiceColor} 0%, ${voiceColor}cc 100%)`,\n+                                    display: 'flex',\n+                                    alignItems: 'center',\n+                                    justifyContent: 'center',\n+                                    color: '#fff',\n+                                    flexShrink: 0,\n+                                    cursor: isSystem ? 'default' : 'pointer',\n+                                    transition: 'transform 0.2s, box-shadow 0.2s'\n+                                  }}\n+                                  onMouseEnter={(e) => {\n+                                    if (!isSystem) {\n+                                      e.currentTarget.style.transform = 'scale(1.1)';\n+                                      e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';\n+                                    }\n+                                  }}\n+                                  onMouseLeave={(e) => {\n+                                    if (!isSystem) {\n+                                      e.currentTarget.style.transform = 'scale(1)';\n+                                      e.currentTarget.style.boxShadow = 'none';\n+                                    }\n+                                  }}\n+                                  title={isSystem ? '' : 'Click to change icon'}\n+                                >\n+                                  <VoiceIcon size={20} />\n+                                </div>\n+\n+                                {/* Icon Picker Dropdown */}\n+                                {iconPickerOpen === voice.id && (\n+                                  <div\n+                                    style={{\n+                                      position: 'absolute',\n+                                      top: 45,\n+                                      left: 0,\n+                                      background: '#fff',\n+                                      border: '2px solid #4a90e2',\n+                                      borderRadius: 8,\n+                                      padding: 8,\n+                                      boxShadow: '0 4px 16px rgba(0,0,0,0.2)',\n+                                      zIndex: 1000,\n+                                      display: 'grid',\n+                                      gridTemplateColumns: 'repeat(4, 1fr)',\n+                                      gap: 4,\n+                                      minWidth: 180\n+                                    }}\n+                                  >\n+                                    {Object.entries(iconMap).map(([iconName, IconComponent]) => {\n+                                      const isSelected = voice.icon === iconName;\n+                                      return (\n+                                        <div\n+                                          key={iconName}\n+                                          onClick={() => {\n+                                            handleUpdateVoice(voice.id, { icon: iconName });\n+                                            setIconPickerOpen(null);\n+                                          }}\n+                                          style={{\n+                                            width: 40,\n+                                            height: 40,\n+                                            borderRadius: 8,\n+                                            background: isSelected ? voiceColor : '#f0f0f0',\n+                                            display: 'flex',\n+                                            alignItems: 'center',\n+                                            justifyContent: 'center',\n+                                            color: isSelected ? '#fff' : '#666',\n+                                            cursor: 'pointer',\n+                                            transition: 'all 0.2s'\n+                                          }}\n+                                          onMouseEnter={(e) => {\n+                                            if (!isSelected) {\n+                                              e.currentTarget.style.background = '#e0e0e0';\n+                                              e.currentTarget.style.transform = 'scale(1.1)';\n+                                            }\n+                                          }}\n+                                          onMouseLeave={(e) => {\n+                                            if (!isSelected) {\n+                                              e.currentTarget.style.background = '#f0f0f0';\n+                                              e.currentTarget.style.transform = 'scale(1)';\n+                                            }\n+                                          }}\n+                                          title={iconName}\n+                                        >\n+                                          <IconComponent size={20} />\n+                                        </div>\n+                                      );\n+                                    })}\n+                                  </div>\n+                                )}\n                               </div>\n \n                               <div style={{ flex: 1, minWidth: 0 }}>"
    }
  ]
}