{
  "sha": "ec1a90378ee9e0a84c842f2c084b8521cd2a757e",
  "node_id": "C_kwDOP2Zrm9oAKGVjMWE5MDM3OGVlOWUwYTg0Yzg0MmYyYzA4NGI4NTIxY2QyYTc1N2U",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-10-30T01:30:37Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-10-30T01:30:37Z"
    },
    "message": "ui update",
    "tree": {
      "sha": "b0bb878cd8bdfc599071d7ab02806455c0523baa",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/b0bb878cd8bdfc599071d7ab02806455c0523baa"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/ec1a90378ee9e0a84c842f2c084b8521cd2a757e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/ec1a90378ee9e0a84c842f2c084b8521cd2a757e",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/ec1a90378ee9e0a84c842f2c084b8521cd2a757e",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/ec1a90378ee9e0a84c842f2c084b8521cd2a757e/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "a7f1a346cca78c7a5ac04ec9bf77c2aa0e8b4563",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/a7f1a346cca78c7a5ac04ec9bf77c2aa0e8b4563",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/a7f1a346cca78c7a5ac04ec9bf77c2aa0e8b4563"
    }
  ],
  "stats": {
    "total": 109,
    "additions": 28,
    "deletions": 81
  },
  "files": [
    {
      "sha": "245652438b80d3ca6afd04876e66f2b1e0e8dfac",
      "filename": "backend/proxy_config.py",
      "status": "added",
      "additions": 28,
      "deletions": 0,
      "changes": 28,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/ec1a90378ee9e0a84c842f2c084b8521cd2a757e/backend%2Fproxy_config.py",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/ec1a90378ee9e0a84c842f2c084b8521cd2a757e/backend%2Fproxy_config.py",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/backend%2Fproxy_config.py?ref=ec1a90378ee9e0a84c842f2c084b8521cd2a757e",
      "patch": "@@ -0,0 +1,28 @@\n+\"\"\"Proxy configuration for API calls that need GFW bypass.\"\"\"\n+import os\n+\n+def get_image_api_proxies():\n+    \"\"\"\n+    Get proxy configuration for image generation API calls.\n+    \n+    Returns dict for requests.post(proxies=...) or None if no proxy configured.\n+    \n+    Configuration priority:\n+    1. Environment variable IMAGE_API_PROXY (e.g., \"socks5://localhost:7890\")\n+    2. Return None (no proxy)\n+    \n+    Usage in server.py:\n+        proxies = get_image_api_proxies()\n+        response = requests.post(url, proxies=proxies, ...)  # None is valid\n+    \"\"\"\n+    proxy_url = os.getenv('IMAGE_API_PROXY')\n+    \n+    if proxy_url:\n+        print(f\"[Proxy Config] Using proxy for image API: {proxy_url}\")\n+        return {\n+            'http': proxy_url,\n+            'https': proxy_url\n+        }\n+    else:\n+        print(\"[Proxy Config] No proxy configured for image API\")\n+        return None"
    },
    {
      "sha": "b1691660f8678a99891b43be830eba59b45e5c9c",
      "filename": "test_simplified.sh",
      "status": "removed",
      "additions": 0,
      "deletions": 81,
      "changes": 81,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/a7f1a346cca78c7a5ac04ec9bf77c2aa0e8b4563/test_simplified.sh",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/a7f1a346cca78c7a5ac04ec9bf77c2aa0e8b4563/test_simplified.sh",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/test_simplified.sh?ref=a7f1a346cca78c7a5ac04ec9bf77c2aa0e8b4563",
      "patch": "@@ -1,81 +0,0 @@\n-#!/bin/bash\n-\n-echo \"ðŸŽ­ Ink & Memory - Testing Simplified Version\"\n-echo \"============================================\"\n-echo \"\"\n-echo \"Choose version to test:\"\n-echo \"1) Original (complex) - TipTap, stateful backend\"\n-echo \"2) Simplified - Clean energy model, stateless backend\"\n-echo \"\"\n-read -p \"Enter choice (1 or 2): \" choice\n-\n-if [ \"$choice\" = \"1\" ]; then\n-    echo \"Starting ORIGINAL version...\"\n-\n-    # Kill any existing backend\n-    pkill -f \"python.*server.py\" 2>/dev/null\n-\n-    # Start original backend\n-    cd backend\n-    source .venv/bin/activate\n-    OPENAI_API_KEY=sk-yz0JLc7sGbCHnwam70Bc9e29Dc684bAe904102C95dF32fB1 \\\n-    OPENAI_BASE_URL=https://api.dou.chat/v1 \\\n-    python server.py &\n-    BACKEND_PID=$!\n-\n-    cd ../frontend\n-    echo \"\"\n-    echo \"âœ… Backend started (PID: $BACKEND_PID)\"\n-    echo \"âœ… Starting frontend...\"\n-    echo \"\"\n-    echo \"ðŸ“Œ Open: http://localhost:5173/ink-and-memory/\"\n-    echo \"   (Original version with TipTap editor)\"\n-    echo \"\"\n-    echo \"Press Ctrl+C to stop both frontend and backend\"\n-\n-    # Start frontend (this will block)\n-    npm run dev\n-\n-    # When frontend is stopped, kill backend too\n-    kill $BACKEND_PID 2>/dev/null\n-\n-elif [ \"$choice\" = \"2\" ]; then\n-    echo \"Starting SIMPLIFIED version...\"\n-\n-    # Kill any existing backend\n-    pkill -f \"python.*server\" 2>/dev/null\n-\n-    # Start simplified backend\n-    cd backend\n-    source .venv/bin/activate\n-    OPENAI_API_KEY=sk-yz0JLc7sGbCHnwam70Bc9e29Dc684bAe904102C95dF32fB1 \\\n-    OPENAI_BASE_URL=https://api.dou.chat/v1 \\\n-    python server_simple.py &\n-    BACKEND_PID=$!\n-\n-    cd ../frontend\n-    echo \"\"\n-    echo \"âœ… Backend started (PID: $BACKEND_PID)\"\n-    echo \"âœ… Starting frontend...\"\n-    echo \"\"\n-    echo \"ðŸ“Œ Open: http://localhost:5173/ink-and-memory/#simple\"\n-    echo \"   (Simplified version with clean energy model)\"\n-    echo \"\"\n-    echo \"Key differences:\"\n-    echo \"- Simple textarea instead of TipTap\"\n-    echo \"- Trace-based energy tracking\"\n-    echo \"- Stateless backend\"\n-    echo \"- 55% less code!\"\n-    echo \"\"\n-    echo \"Press Ctrl+C to stop both frontend and backend\"\n-\n-    # Start frontend (this will block)\n-    npm run dev\n-\n-    # When frontend is stopped, kill backend too\n-    kill $BACKEND_PID 2>/dev/null\n-\n-else\n-    echo \"Invalid choice. Please run again and select 1 or 2.\"\n-    exit 1\n-fi\n\\ No newline at end of file"
    }
  ]
}