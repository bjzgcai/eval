{
  "sha": "e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
  "node_id": "C_kwDOP2Zrm9oAKGUyNmFiN2RmZjllZmUzYTNlNWQ5MzhlZGE2YWE2NGM5NjA4YTZmMWU",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-11-18T10:21:57Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-11-18T10:21:57Z"
    },
    "message": "feat: add UI language toggle and translations",
    "tree": {
      "sha": "b1222cad0c12d489496493f2ce2a0e829e480c4a",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/b1222cad0c12d489496493f2ce2a0e829e480c4a"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "4405fdbd5693f41c59c03b5c97e953eedd043dd6",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/4405fdbd5693f41c59c03b5c97e953eedd043dd6",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/4405fdbd5693f41c59c03b5c97e953eedd043dd6"
    }
  ],
  "stats": {
    "total": 551,
    "additions": 457,
    "deletions": 94
  },
  "files": [
    {
      "sha": "c6cfa30b5c6a1f16c40a39742f31ebe0e99cd115",
      "filename": "frontend/package-lock.json",
      "status": "modified",
      "additions": 87,
      "deletions": 1,
      "changes": 88,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fpackage-lock.json",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fpackage-lock.json",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fpackage-lock.json?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -12,8 +12,10 @@\n         \"@tiptap/extension-placeholder\": \"^3.7.2\",\n         \"@tiptap/react\": \"^3.6.2\",\n         \"@tiptap/starter-kit\": \"^3.6.2\",\n+        \"i18next\": \"^24.0.0\",\n         \"react\": \"^19.1.1\",\n         \"react-dom\": \"^19.1.1\",\n+        \"react-i18next\": \"^15.0.1\",\n         \"react-icons\": \"^5.5.0\"\n       },\n       \"devDependencies\": {\n@@ -264,6 +266,15 @@\n         \"@babel/core\": \"^7.0.0-0\"\n       }\n     },\n+    \"node_modules/@babel/runtime\": {\n+      \"version\": \"7.28.4\",\n+      \"resolved\": \"https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.4.tgz\",\n+      \"integrity\": \"sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==\",\n+      \"license\": \"MIT\",\n+      \"engines\": {\n+        \"node\": \">=6.9.0\"\n+      }\n+    },\n     \"node_modules/@babel/template\": {\n       \"version\": \"7.27.2\",\n       \"resolved\": \"https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz\",\n@@ -2978,6 +2989,46 @@\n         \"node\": \">=8\"\n       }\n     },\n+    \"node_modules/html-parse-stringify\": {\n+      \"version\": \"3.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/html-parse-stringify/-/html-parse-stringify-3.0.1.tgz\",\n+      \"integrity\": \"sha512-KknJ50kTInJ7qIScF3jeaFRpMpE8/lfiTdzf/twXyPBLAGrLRTmkz3AdTnKeh40X8k9L2fdYwEp/42WGXIRGcg==\",\n+      \"license\": \"MIT\",\n+      \"dependencies\": {\n+        \"void-elements\": \"3.1.0\"\n+      }\n+    },\n+    \"node_modules/i18next\": {\n+      \"version\": \"24.2.3\",\n+      \"resolved\": \"https://registry.npmjs.org/i18next/-/i18next-24.2.3.tgz\",\n+      \"integrity\": \"sha512-lfbf80OzkocvX7nmZtu7nSTNbrTYR52sLWxPtlXX1zAhVw8WEnFk4puUkCR4B1dNQwbSpEHHHemcZu//7EcB7A==\",\n+      \"funding\": [\n+        {\n+          \"type\": \"individual\",\n+          \"url\": \"https://locize.com\"\n+        },\n+        {\n+          \"type\": \"individual\",\n+          \"url\": \"https://locize.com/i18next.html\"\n+        },\n+        {\n+          \"type\": \"individual\",\n+          \"url\": \"https://www.i18next.com/how-to/faq#i18next-is-awesome.-how-can-i-support-the-project\"\n+        }\n+      ],\n+      \"license\": \"MIT\",\n+      \"dependencies\": {\n+        \"@babel/runtime\": \"^7.26.10\"\n+      },\n+      \"peerDependencies\": {\n+        \"typescript\": \"^5\"\n+      },\n+      \"peerDependenciesMeta\": {\n+        \"typescript\": {\n+          \"optional\": true\n+        }\n+      }\n+    },\n     \"node_modules/ignore\": {\n       \"version\": \"5.3.2\",\n       \"resolved\": \"https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz\",\n@@ -3698,6 +3749,32 @@\n         \"react\": \"^19.1.1\"\n       }\n     },\n+    \"node_modules/react-i18next\": {\n+      \"version\": \"15.7.4\",\n+      \"resolved\": \"https://registry.npmjs.org/react-i18next/-/react-i18next-15.7.4.tgz\",\n+      \"integrity\": \"sha512-nyU8iKNrI5uDJch0z9+Y5XEr34b0wkyYj3Rp+tfbahxtlswxSCjcUL9H0nqXo9IR3/t5Y5PKIA3fx3MfUyR9Xw==\",\n+      \"license\": \"MIT\",\n+      \"dependencies\": {\n+        \"@babel/runtime\": \"^7.27.6\",\n+        \"html-parse-stringify\": \"^3.0.1\"\n+      },\n+      \"peerDependencies\": {\n+        \"i18next\": \">= 23.4.0\",\n+        \"react\": \">= 16.8.0\",\n+        \"typescript\": \"^5\"\n+      },\n+      \"peerDependenciesMeta\": {\n+        \"react-dom\": {\n+          \"optional\": true\n+        },\n+        \"react-native\": {\n+          \"optional\": true\n+        },\n+        \"typescript\": {\n+          \"optional\": true\n+        }\n+      }\n+    },\n     \"node_modules/react-icons\": {\n       \"version\": \"5.5.0\",\n       \"resolved\": \"https://registry.npmjs.org/react-icons/-/react-icons-5.5.0.tgz\",\n@@ -3976,7 +4053,7 @@\n       \"version\": \"5.8.3\",\n       \"resolved\": \"https://registry.npmjs.org/typescript/-/typescript-5.8.3.tgz\",\n       \"integrity\": \"sha512-p1diW6TqL9L07nNxvRMM7hMMw4c5XOo/1ibL4aAIGmSAt9slTE1Xgw5KWuof2uTOvCg9BY7ZRi+GaF+7sfgPeQ==\",\n-      \"dev\": true,\n+      \"devOptional\": true,\n       \"license\": \"Apache-2.0\",\n       \"bin\": {\n         \"tsc\": \"bin/tsc\",\n@@ -4172,6 +4249,15 @@\n         \"url\": \"https://github.com/sponsors/jonschlinkert\"\n       }\n     },\n+    \"node_modules/void-elements\": {\n+      \"version\": \"3.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/void-elements/-/void-elements-3.1.0.tgz\",\n+      \"integrity\": \"sha512-Dhxzh5HZuiHQhbvTW9AMetFfBHDMYpo23Uo9btPXgdYP+3T5S+p+jgNy7spra+veYhBP2dCSgxR/i2Y02h5/6w==\",\n+      \"license\": \"MIT\",\n+      \"engines\": {\n+        \"node\": \">=0.10.0\"\n+      }\n+    },\n     \"node_modules/w3c-keyname\": {\n       \"version\": \"2.2.8\",\n       \"resolved\": \"https://registry.npmjs.org/w3c-keyname/-/w3c-keyname-2.2.8.tgz\","
    },
    {
      "sha": "651bc22141a830cb42b86957e600243c84dee9e4",
      "filename": "frontend/package.json",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fpackage.json",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fpackage.json",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fpackage.json?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -14,9 +14,11 @@\n     \"@tiptap/extension-placeholder\": \"^3.7.2\",\n     \"@tiptap/react\": \"^3.6.2\",\n     \"@tiptap/starter-kit\": \"^3.6.2\",\n+    \"i18next\": \"^24.0.0\",\n     \"react\": \"^19.1.1\",\n     \"react-dom\": \"^19.1.1\",\n-    \"react-icons\": \"^5.5.0\"\n+    \"react-icons\": \"^5.5.0\",\n+    \"react-i18next\": \"^15.0.1\"\n   },\n   \"devDependencies\": {\n     \"@eslint/js\": \"^9.36.0\","
    },
    {
      "sha": "16c4fe834c239626e7a14fe8137a5fbe1e7c8a80",
      "filename": "frontend/src/App.tsx",
      "status": "modified",
      "additions": 57,
      "deletions": 36,
      "changes": 93,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2FApp.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2FApp.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2FApp.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,4 +1,5 @@\n import React, { useState, useEffect, useLayoutEffect, useRef, useCallback, useMemo } from 'react';\n+import { useTranslation } from 'react-i18next';\n import { EditorEngine } from './engine/EditorEngine';\n import type { EditorState, Commentor, TextCell } from './engine/EditorEngine';\n import { ChatWidget } from './engine/ChatWidget';\n@@ -198,6 +199,8 @@ const iconMap = {\n   compass: FaCompass,\n };\n \n+const LANGUAGE_CODES: Array<'en' | 'zh'> = ['en', 'zh'];\n+\n // @@@ Color map with gradient colors for watercolor effect\n const colorMap: Record<string, { gradient: string; text: string; glow: string }> = {\n   blue: {\n@@ -231,12 +234,19 @@ const colorMap: Record<string, { gradient: string; text: string; glow: string }>\n export default function App() {\n   const isMobile = useMobile();\n   const { isAuthenticated, isLoading } = useAuth();\n+  const { t, i18n } = useTranslation();\n \n   // @@@ Auth screen state\n   const [authScreen, setAuthScreen] = useState<'login' | 'register'>('login');\n   const [guestMode, setGuestMode] = useState(false);\n   const [showMigrationDialog, setShowMigrationDialog] = useState(false);\n   const [isMigrating, setIsMigrating] = useState(false);\n+  const currentLanguage = (i18n.language || 'en').split('-')[0];\n+  const handleUILanguageChange = useCallback((code: string) => {\n+    if (code !== currentLanguage) {\n+      i18n.changeLanguage(code);\n+    }\n+  }, [currentLanguage, i18n]);\n \n   const [currentView, setCurrentView] = useState<'writing' | 'settings' | 'timeline' | 'analysis' | 'decks'>('writing');\n   const [showCalendarPopup, setShowCalendarPopup] = useState(false);\n@@ -2343,7 +2353,6 @@ export default function App() {\n             maxWidth: 800,\n             width: '100%'\n           }}>\n-            {/* Language Toggle (Placeholder) */}\n             <section style={{ marginBottom: 48 }}>\n               <h2 style={{\n                 fontSize: 24,\n@@ -2352,58 +2361,70 @@ export default function App() {\n                 marginBottom: 16,\n                 fontFamily: 'Georgia, \"Times New Roman\", serif'\n               }}>\n-                Settings\n+                {t('nav.settings')}\n               </h2>\n               <div style={{\n                 background: 'rgba(255, 255, 255, 0.5)',\n                 border: '1px solid #d0c4b0',\n                 borderRadius: 8,\n                 padding: 24\n               }}>\n-                <div style={{ marginBottom: 16 }}>\n+                <div style={{ marginBottom: 12 }}>\n                   <label style={{\n                     fontSize: 14,\n                     fontWeight: 500,\n                     color: '#2c2c2c',\n-                    marginBottom: 8,\n+                    marginBottom: 6,\n                     display: 'block',\n                     fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n                   }}>\n                     Language / ËØ≠Ë®Ä\n                   </label>\n-                  <div style={{ display: 'flex', gap: 12 }}>\n-                    <button\n-                      style={{\n-                        padding: '8px 16px',\n-                        background: '#2c2c2c',\n-                        color: '#fff',\n-                        border: 'none',\n-                        borderRadius: 6,\n-                        fontSize: 14,\n-                        fontWeight: 500,\n-                        cursor: 'pointer',\n-                        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n-                      }}\n-                    >\n-                      English\n-                    </button>\n-                    <button\n-                      style={{\n-                        padding: '8px 16px',\n-                        background: 'transparent',\n-                        color: '#666',\n-                        border: '1px solid #d0c4b0',\n-                        borderRadius: 6,\n-                        fontSize: 14,\n-                        fontWeight: 500,\n-                        cursor: 'pointer',\n-                        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n-                      }}\n-                    >\n-                      ‰∏≠Êñá\n-                    </button>\n-                  </div>\n+                  <p style={{\n+                    margin: 0,\n+                    fontSize: 13,\n+                    color: '#666',\n+                    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n+                  }}>\n+                    {t('settings.language.description')}\n+                  </p>\n                 </div>\n+\n+                <div style={{ display: 'flex', gap: 12, flexWrap: 'wrap' }}>\n+                  {LANGUAGE_CODES.map(code => {\n+                    const isActive = currentLanguage === code;\n+                    return (\n+                      <button\n+                        key={code}\n+                        onClick={() => handleUILanguageChange(code)}\n+                        style={{\n+                          padding: '8px 16px',\n+                          background: isActive ? '#2c2c2c' : 'transparent',\n+                          color: isActive ? '#fff' : '#666',\n+                          border: isActive ? 'none' : '1px solid #d0c4b0',\n+                          borderRadius: 6,\n+                          fontSize: 14,\n+                          fontWeight: 500,\n+                          cursor: isActive ? 'default' : 'pointer',\n+                          fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n+                          boxShadow: isActive ? '0 2px 8px rgba(0,0,0,0.15)' : 'none',\n+                          transition: 'all 0.2s ease'\n+                        }}\n+                      >\n+                        {t(`settings.language.options.${code}`)}\n+                      </button>\n+                    );\n+                  })}\n+                </div>\n+\n+                <p style={{\n+                  marginTop: 12,\n+                  fontSize: 12,\n+                  color: '#8a7a69',\n+                  fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n+                }}>\n+                  {t('settings.language.preview')}\n+                </p>\n               </div>\n             </section>\n "
    },
    {
      "sha": "04415354c30f529bcea6a4ba3390b87eacc2bfe4",
      "filename": "frontend/src/components/AnalysisView.tsx",
      "status": "modified",
      "additions": 17,
      "deletions": 14,
      "changes": 31,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FAnalysisView.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FAnalysisView.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FAnalysisView.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,9 +1,11 @@\n import { useState, useEffect } from 'react';\n+import { useTranslation } from 'react-i18next';\n import { getCalendarData } from '../utils/calendarStorage';\n import { analyzeEchoes, analyzeTraits, analyzePatterns, saveAnalysisReport, getAnalysisReports } from '../api/voiceApi';\n import type { TextCell } from '../engine/EditorEngine';\n import { useAuth } from '../contexts/AuthContext';\n import { STORAGE_KEYS } from '../constants/storageKeys';\n+import { getDateLocale } from '../i18n';\n \n // @@@ Constants\n const MAX_SAVED_REPORTS = 10;\n@@ -68,6 +70,8 @@ interface AnalysisReport {\n \n export default function AnalysisView() {\n   const { isAuthenticated } = useAuth();\n+  const { t, i18n } = useTranslation();\n+  const dateLocale = getDateLocale(i18n.language);\n   const [allNotes, setAllNotes] = useState('');\n   const [echoes, setEchoes] = useState<Echo[]>([]);\n   const [traits, setTraits] = useState<Trait[]>([]);\n@@ -381,10 +385,10 @@ export default function AnalysisView() {\n             e.currentTarget.style.boxShadow = '0 4px 16px rgba(139,115,85,0.2), inset 0 1px 0 rgba(255,255,255,0.8)';\n             e.currentTarget.style.background = 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,250,240,0.9) 100%)';\n           }}\n-          title=\"Back to Dashboard\"\n+          title={t('analysis.backTitle')}\n         >\n           <span style={{ fontSize: '16px' }}>‚Üê</span>\n-          <span>Back</span>\n+          <span>{t('analysis.backButton')}</span>\n         </button>\n \n         <DecorativeInkSpots />\n@@ -440,7 +444,7 @@ export default function AnalysisView() {\n             letterSpacing: '-0.5px',\n             textShadow: '2px 2px 0px rgba(139,115,85,0.1)'\n           }}>\n-            Reflections\n+            {t('analysis.title')}\n           </h1>\n           <div style={{\n             width: '80px',\n@@ -457,7 +461,7 @@ export default function AnalysisView() {\n             maxWidth: '500px',\n             margin: '0 auto'\n           }}>\n-            Patterns and insights woven through your words\n+            {t('analysis.subtitle')}\n           </p>\n         </div>\n \n@@ -469,9 +473,9 @@ export default function AnalysisView() {\n           marginBottom: '3rem',\n           flexWrap: 'wrap'\n         }}>\n-          <VintageStatLabel label=\"Days\" value={stats.totalDays} />\n-          <VintageStatLabel label=\"Entries\" value={stats.totalEntries} />\n-          <VintageStatLabel label=\"Words\" value={stats.totalWords.toLocaleString()} />\n+          <VintageStatLabel label={t('analysis.stats.days')} value={stats.totalDays} />\n+          <VintageStatLabel label={t('analysis.stats.entries')} value={stats.totalEntries} />\n+          <VintageStatLabel label={t('analysis.stats.words')} value={stats.totalWords.toLocaleString()} />\n         </div>\n \n         {/* Saved Reports History */}\n@@ -486,7 +490,7 @@ export default function AnalysisView() {\n               fontFamily: 'Georgia, serif',\n               fontStyle: 'italic'\n             }}>\n-              Past Reflections\n+              {t('analysis.pastReflections')}\n             </h2>\n             <div style={{\n               display: 'grid',\n@@ -533,7 +537,7 @@ export default function AnalysisView() {\n                       color: '#8B7355',\n                       fontWeight: 500\n                     }}>\n-                      {new Date(report.timestamp).toLocaleDateString('en-US', {\n+                      {new Date(report.timestamp).toLocaleDateString(dateLocale, {\n                         month: 'short',\n                         day: 'numeric',\n                         year: 'numeric',\n@@ -604,7 +608,7 @@ export default function AnalysisView() {\n                         borderRadius: '12px',\n                         color: '#5d4a3a'\n                       }}>\n-                        {report.patterns.length} patterns\n+                        {t('analysis.report.patternCount', { count: report.patterns.length })}\n                       </span>\n                     )}\n                   </div>\n@@ -651,7 +655,7 @@ export default function AnalysisView() {\n               }\n             }}\n           >\n-            {anyLoading ? 'Reflecting...' : 'Generate New Analysis'}\n+            {anyLoading ? t('analysis.actions.generating') : t('analysis.actions.generate')}\n           </button>\n         </div>\n \n@@ -706,7 +710,7 @@ export default function AnalysisView() {\n               fontStyle: 'italic',\n               fontWeight: 300\n             }}>\n-              Your story awaits analysis\n+              {t('analysis.empty.title')}\n             </p>\n             <p style={{\n               fontSize: '14px',\n@@ -715,7 +719,7 @@ export default function AnalysisView() {\n               margin: '0 auto',\n               lineHeight: 1.7\n             }}>\n-              Begin the journey to discover the patterns, themes, and essence woven through your words\n+              {t('analysis.empty.description')}\n             </p>\n           </div>\n         )}\n@@ -1347,4 +1351,3 @@ function PatternCard({ pattern }: { pattern: Pattern }) {\n     </div>\n   );\n }\n-"
    },
    {
      "sha": "26b4bb091a2ec7927b0dcc20097e468b403a4010",
      "filename": "frontend/src/components/CollectionsView.tsx",
      "status": "modified",
      "additions": 14,
      "deletions": 9,
      "changes": 23,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FCollectionsView.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FCollectionsView.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FCollectionsView.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,8 +1,10 @@\n import { useState, useEffect, useLayoutEffect, useRef } from 'react';\n+import { useTranslation } from 'react-i18next';\n import type { Commentor } from '../engine/EditorEngine';\n import { findNormalizedPhrase } from '../utils/textNormalize';\n import { useAuth } from '../contexts/AuthContext';\n import { STORAGE_KEYS } from '../constants/storageKeys';\n+import { getDateLocale } from '../i18n';\n \n // @@@ TypeScript interfaces\n interface TimelineDay {\n@@ -14,6 +16,8 @@ interface TimelineDay {\n }\n \n export default function CollectionsView({ isVisible, voiceConfigs }: { isVisible: boolean; voiceConfigs: Record<string, any> }) {\n+  const { i18n } = useTranslation();\n+  const dateLocale = getDateLocale(i18n.language);\n   return (\n     <div style={{\n       width: '100%',\n@@ -23,7 +27,7 @@ export default function CollectionsView({ isVisible, voiceConfigs }: { isVisible\n       background: '#f8f0e6',\n       overflow: 'hidden'\n     }}>\n-      <TimelinePage isVisible={isVisible} voiceConfigs={voiceConfigs} />\n+      <TimelinePage isVisible={isVisible} voiceConfigs={voiceConfigs} dateLocale={dateLocale} />\n     </div>\n   );\n }\n@@ -91,8 +95,8 @@ function getLocalDateString(date?: Date | string): string {\n   return `${year}-${month}-${day}`;\n }\n \n-function formatDate(date: Date | string): string {\n-  return new Date(date).toLocaleDateString('en-US', {\n+function formatDate(date: Date | string, locale: string): string {\n+  return new Date(date).toLocaleDateString(locale, {\n     year: 'numeric',\n     month: 'short',\n     day: 'numeric'\n@@ -252,7 +256,8 @@ async function getAllNotesFromSessions(isAuthenticated: boolean): Promise<string\n }\n \n // @@@ Timeline page - combines pictures and comments by date\n-function TimelinePage({ isVisible, voiceConfigs }: { isVisible: boolean; voiceConfigs: Record<string, any> }) {\n+function TimelinePage({ isVisible, voiceConfigs, dateLocale }: { isVisible: boolean; voiceConfigs: Record<string, any>; dateLocale: string }) {\n+  const { t } = useTranslation();\n   const { isAuthenticated } = useAuth();\n   const [starredComments, setStarredComments] = useState<Commentor[]>([]);\n   const [allCommentsByDate, setAllCommentsByDate] = useState<Map<string, Commentor[]>>(new Map());\n@@ -331,7 +336,7 @@ function TimelinePage({ isVisible, voiceConfigs }: { isVisible: boolean; voiceCo\n             setStarredComments(starred);\n \n             // For guest mode, all comments are from today\n-            const today = formatDate(new Date());\n+            const today = formatDate(new Date(), dateLocale);\n             const allComments = state.commentors?.filter((c: Commentor) => c.appliedAt) || [];\n             const commentsByDate = new Map<string, Commentor[]>();\n             if (allComments.length > 0) {\n@@ -740,20 +745,20 @@ function TimelinePage({ isVisible, voiceConfigs }: { isVisible: boolean; voiceCo\n                     color: day.isToday ? '#2c2c2c' : '#666',\n                     marginBottom: '0.25rem'\n                   }}>\n-                    {day.isToday ? 'Today' : formatDate(day.date)}\n+                    {day.isToday ? t('timeline.today') : formatDate(day.date, dateLocale)}\n                   </div>\n                   <div style={{\n                     fontSize: '13px',\n                     color: '#888',\n                     fontStyle: (day.isToday && !dayData?.picture) || (!textByDate.get(day.date) && !dayData?.comments?.length) ? 'italic' : 'normal'\n                   }}>\n-                    {isGenerating ? 'Generating...' :\n+                    {isGenerating ? t('timeline.generating') :\n                      day.isToday && !dayData?.picture ?\n                        getPlaceholderText(day.daysOffset) :\n                      textByDate.get(day.date) ?\n                        getTextPreview(textByDate.get(day.date)!) :\n                      dayData?.comments?.length ?\n-                       `${dayData.comments.length} ${dayData.comments.length === 1 ? 'entry' : 'entries'}` :\n+                       t('timeline.entryCount', { count: dayData.comments.length }) :\n                        getPlaceholderText(day.daysOffset)}\n                   </div>\n                 </div>\n@@ -1037,7 +1042,7 @@ function TimelinePage({ isVisible, voiceConfigs }: { isVisible: boolean; voiceCo\n                 fontSize: '13px',\n                 color: '#666'\n               }}>\n-                {new Date(viewingImage.date).toLocaleDateString('en-US', {\n+                {new Date(viewingImage.date).toLocaleDateString(dateLocale, {\n                   year: 'numeric',\n                   month: 'long',\n                   day: 'numeric'"
    },
    {
      "sha": "b967eda3b97679b6dcf1429b373a431eca1c1144",
      "filename": "frontend/src/components/DeckManager.tsx",
      "status": "modified",
      "additions": 26,
      "deletions": 18,
      "changes": 44,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,4 +1,5 @@\n import { useState, useEffect, useRef } from 'react';\n+import { useTranslation } from 'react-i18next';\n import {\n   listDecks,\n   getDeck,\n@@ -67,6 +68,7 @@ interface Props {\n }\n \n export default function DeckManager({ onUpdate }: Props) {\n+  const { t } = useTranslation();\n   const [decks, setDecks] = useState<Deck[]>([]);\n   const [communityDecks, setCommunityDecks] = useState<Deck[]>([]);\n   const [expandedDecks, setExpandedDecks] = useState<Set<string>>(new Set());\n@@ -165,7 +167,7 @@ export default function DeckManager({ onUpdate }: Props) {\n   }\n \n   async function handleDeleteDeck(deckId: string) {\n-    if (!confirm('Delete this deck and all its voices?')) return;\n+    if (!confirm(t('deck.confirm.delete'))) return;\n \n     try {\n       await deleteDeck(deckId);\n@@ -177,7 +179,7 @@ export default function DeckManager({ onUpdate }: Props) {\n   }\n \n   async function handleSyncDeck(deckId: string) {\n-    if (!confirm('Sync with original template? This will overwrite any changes you made to this deck.')) return;\n+    if (!confirm(t('deck.confirm.sync'))) return;\n \n     try {\n       const result = await syncDeck(deckId);\n@@ -340,7 +342,7 @@ export default function DeckManager({ onUpdate }: Props) {\n             cursor: 'pointer'\n           }}\n         >\n-          Retry\n+          {t('deck.actions.retry')}\n         </button>\n       </div>\n     );\n@@ -363,15 +365,15 @@ export default function DeckManager({ onUpdate }: Props) {\n           fontFamily: 'Georgia, serif',\n           letterSpacing: '-0.5px'\n         }}>\n-          Voice Decks\n+          {t('deck.heading')}\n         </h1>\n         <p style={{\n           margin: '6px 0 0',\n           fontSize: 14,\n           color: '#666',\n           fontStyle: 'italic'\n         }}>\n-          Organize your inner voices into thematic collections\n+          {t('deck.subheading')}\n         </p>\n       </div>\n \n@@ -403,7 +405,7 @@ export default function DeckManager({ onUpdate }: Props) {\n               if (!creatingDeck) e.currentTarget.style.background = '#4a90e2';\n             }}\n           >\n-            {creatingDeck ? 'Creating...' : '+ Create New Deck'}\n+            {creatingDeck ? t('deck.actions.creating') : t('deck.actions.create')}\n           </button>\n \n           {/* My Decks Section Header */}\n@@ -413,7 +415,7 @@ export default function DeckManager({ onUpdate }: Props) {\n             fontWeight: '500',\n             color: '#2c2c2c'\n           }}>\n-            My Decks\n+            {t('deck.sections.myDecks')}\n           </h3>\n \n           {/* User's Decks */}\n@@ -422,6 +424,8 @@ export default function DeckManager({ onUpdate }: Props) {\n             const isSystem = !!deck.is_system; // @@@ Convert to boolean to prevent React from rendering \"0\"\n             const Icon = iconMap[deck.icon as keyof typeof iconMap] || FaBrain;\n             const colorHex = COLORS[deck.color as keyof typeof COLORS]?.hex || '#4a90e2';\n+            const voiceCount = deck.voice_count || deck.voices?.length || 0;\n+            const voiceCountLabel = t('deck.labels.voiceCount', { count: voiceCount });\n \n             return (\n               <div\n@@ -494,22 +498,22 @@ export default function DeckManager({ onUpdate }: Props) {\n                           padding: '2px 8px',\n                           borderRadius: 4\n                         }}>\n-                          System\n+                          {t('deck.labels.system')}\n                         </span>\n                       )}\n                     </div>\n                     <div style={{\n                       fontSize: 14,\n                       color: '#666'\n                     }}>\n-                      {deck.description || 'No description'}\n+                      {deck.description || t('deck.labels.noDescription')}\n                     </div>\n                     <div style={{\n                       fontSize: 12,\n                       color: '#999',\n                       marginTop: 4\n                     }}>\n-                      {deck.voice_count || deck.voices?.length || 0} voices\n+                      {voiceCountLabel}\n                     </div>\n                   </div>\n \n@@ -594,7 +598,7 @@ export default function DeckManager({ onUpdate }: Props) {\n                               e.currentTarget.style.boxShadow = 'none';\n                             }}\n                           >\n-                            Sync with Original\n+                            {t('deck.actions.sync')}\n                           </button>\n                         )}\n                         {/* @@@ Publish button for user-owned decks */}\n@@ -621,7 +625,7 @@ export default function DeckManager({ onUpdate }: Props) {\n                             e.currentTarget.style.boxShadow = 'none';\n                           }}\n                         >\n-                          {deck.published ? 'Unpublish' : 'Publish to Community'}\n+                          {deck.published ? t('deck.actions.unpublish') : t('deck.actions.publish')}\n                         </button>\n                         <button\n                           onClick={() => handleDeleteDeck(deck.id)}\n@@ -645,7 +649,7 @@ export default function DeckManager({ onUpdate }: Props) {\n                             e.currentTarget.style.boxShadow = 'none';\n                           }}\n                         >\n-                          Delete Deck\n+                          {t('deck.actions.delete')}\n                         </button>\n                       </>\n                     )}\n@@ -1006,7 +1010,7 @@ export default function DeckManager({ onUpdate }: Props) {\n                           }\n                         }}\n                       >\n-                        {creatingVoice === deck.id ? 'Adding...' : '+ Add Voice to this Deck'}\n+                        {creatingVoice === deck.id ? t('deck.actions.addingVoice') : t('deck.actions.addVoice')}\n                       </button>\n                     )}\n \n@@ -1036,7 +1040,7 @@ export default function DeckManager({ onUpdate }: Props) {\n             fontWeight: '500',\n             color: '#2c2c2c'\n           }}>\n-            Community Decks ({communityDecks.length})\n+            {t('deck.sections.community', { count: communityDecks.length })}\n           </h3>\n \n           {communityDecks.length === 0 ? (\n@@ -1047,7 +1051,7 @@ export default function DeckManager({ onUpdate }: Props) {\n               textAlign: 'center',\n               padding: '32px 0'\n             }}>\n-              No published decks yet. Be the first to share!\n+              {t('deck.communityEmpty')}\n             </p>\n           ) : (\n             <div style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>\n@@ -1105,7 +1109,11 @@ export default function DeckManager({ onUpdate }: Props) {\n                             fontSize: 12,\n                             color: '#999'\n                           }}>\n-                            by {deck.author_name || 'Anonymous'} ¬∑ {deck.voice_count || 0} voices ¬∑ {deck.install_count || 0} installs\n+                            {t('deck.communityMeta', {\n+                              author: deck.author_name || t('deck.labels.anonymous'),\n+                              voices: deck.voice_count || 0,\n+                              installs: deck.install_count || 0\n+                            })}\n                           </div>\n                         </div>\n                       </div>\n@@ -1133,7 +1141,7 @@ export default function DeckManager({ onUpdate }: Props) {\n                           e.currentTarget.style.boxShadow = 'none';\n                         }}\n                       >\n-                        Install\n+                        {t('deck.actions.install')}\n                       </button>\n                     </div>\n                   </div>"
    },
    {
      "sha": "2bbf19f7385cb10bf084bfdea9d265eb14d95d20",
      "filename": "frontend/src/components/StateChooser.tsx",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FStateChooser.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FStateChooser.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FStateChooser.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,6 +1,8 @@\n import { useState, useEffect, useRef } from 'react';\n+import { useTranslation } from 'react-i18next';\n import { StateCube } from './StateCube';\n import type { StateConfig } from '../api/voiceApi';\n+import { getDateLocale } from '../i18n';\n \n interface Props {\n   stateConfig: StateConfig;\n@@ -10,6 +12,7 @@ interface Props {\n }\n \n export default function StateChooser({ stateConfig, selectedState, createdAt, onChoose }: Props) {\n+  const { i18n } = useTranslation();\n   const [isExpanded, setIsExpanded] = useState(!selectedState);\n   const [shouldAnimate, setShouldAnimate] = useState(false);\n   const [isFadingOut, setIsFadingOut] = useState(false);\n@@ -32,7 +35,8 @@ export default function StateChooser({ stateConfig, selectedState, createdAt, on\n     ? new Date(createdAt + 'T00:00:00')\n     : new Date();\n \n-  const dateString = displayDate.toLocaleDateString('zh-CN', {\n+  const dateLocale = getDateLocale(i18n.language);\n+  const dateString = displayDate.toLocaleDateString(dateLocale, {\n     year: 'numeric',\n     month: 'long',\n     day: 'numeric',"
    },
    {
      "sha": "18c4eba6443e271ca731a81ca4071278a8d0c17e",
      "filename": "frontend/src/components/TopNavBar.tsx",
      "status": "modified",
      "additions": 11,
      "deletions": 9,
      "changes": 20,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FTopNavBar.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FTopNavBar.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FTopNavBar.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,4 +1,5 @@\n import { useState } from 'react';\n+import { useTranslation } from 'react-i18next';\n import { useAuth } from '../contexts/AuthContext';\n \n interface Props {\n@@ -8,6 +9,7 @@ interface Props {\n \n export default function LeftSidebar({ currentView, onViewChange }: Props) {\n   const { user, logout } = useAuth();\n+  const { t } = useTranslation();\n   const [showUserMenu, setShowUserMenu] = useState(false);\n   const buttonStyle = (isActive: boolean) => ({\n     height: '100%',\n@@ -82,7 +84,7 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n         <button\n           onClick={() => onViewChange('writing')}\n           style={buttonStyle(currentView === 'writing')}\n-          title=\"Writing\"\n+          title={t('nav.writing')}\n           onMouseEnter={e => {\n             if (currentView !== 'writing') {\n               e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';\n@@ -94,13 +96,13 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n             }\n           }}\n         >\n-          Writing\n+          {t('nav.writing')}\n         </button>\n \n         <button\n           onClick={() => onViewChange('timeline')}\n           style={buttonStyle(currentView === 'timeline')}\n-          title=\"Timeline\"\n+          title={t('nav.timeline')}\n           onMouseEnter={e => {\n             if (currentView !== 'timeline') {\n               e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';\n@@ -112,13 +114,13 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n             }\n           }}\n         >\n-          Timeline\n+          {t('nav.timeline')}\n         </button>\n \n         <button\n           onClick={() => onViewChange('analysis')}\n           style={buttonStyle(currentView === 'analysis')}\n-          title=\"Reflections\"\n+          title={t('nav.analysis')}\n           onMouseEnter={e => {\n             if (currentView !== 'analysis') {\n               e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';\n@@ -130,13 +132,13 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n             }\n           }}\n         >\n-          Reflections\n+          {t('nav.analysis')}\n         </button>\n \n         <button\n           onClick={() => onViewChange('decks')}\n           style={buttonStyle(currentView === 'decks')}\n-          title=\"Decks\"\n+          title={t('nav.decks')}\n           onMouseEnter={e => {\n             if (currentView !== 'decks') {\n               e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';\n@@ -148,7 +150,7 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n             }\n           }}\n         >\n-          Decks\n+          {t('nav.decks')}\n         </button>\n       </div>\n \n@@ -180,7 +182,7 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n             e.currentTarget.style.background = 'transparent';\n           }\n         }}\n-        title=\"Settings\"\n+        title={t('nav.settings')}\n       >\n         <svg width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n           <path d=\"M17.502 10c0 .34-.03.66-.07.98l2.11 1.65c.19.15.24.42.12.64l-2 3.46c-.12.22-.39.3-.61.22l-2.49-1c-.52.4-1.08.73-1.69.98l-.38 2.65c-.03.24-.24.42-.49.42h-4c-.25 0-.46-.18-.49-.42l-.38-2.65c-.61-.25-1.17-.59-1.69-.98l-2.49 1c-.23.09-.49 0-.61-.22l-2-3.46c-.13-.22-.07-.49.12-.64l2.11-1.65c-.04-.32-.07-.65-.07-.98 0-.33.03-.66.07-.98L.93 7.37c-.19-.15-.24-.42-.12-.64l2-3.46c.12-.22.39-.3.61-.22l2.49 1c.52-.4 1.08-.73 1.69-.98l.38-2.65C7.01.18 7.22 0 7.47 0h4c.25 0 .46.18.49.42l.38 2.65c.61.25 1.17.59 1.69.98l2.49-1c.23-.09.49 0 .61.22l2 3.46c.12.22.07.49-.12.64l-2.11 1.65c.04.32.07.65.07.98zm-7.5 3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z\"/>"
    },
    {
      "sha": "4b193606296b6b281ac797012391c3bc04159dc9",
      "filename": "frontend/src/components/VoiceSettings.tsx",
      "status": "modified",
      "additions": 9,
      "deletions": 5,
      "changes": 14,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FVoiceSettings.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fcomponents%2FVoiceSettings.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FVoiceSettings.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,4 +1,5 @@\n import { useState, useEffect, useRef } from 'react';\n+import { useTranslation } from 'react-i18next';\n import type { VoiceConfig, StateConfig, UserState } from '../api/voiceApi';\n import { saveVoices, clearVoices, getMetaPrompt, saveMetaPrompt, getStateConfig, saveStateConfig } from '../utils/voiceStorage';\n import {\n@@ -60,6 +61,7 @@ interface Props {\n }\n \n export default function VoiceSettings({ defaultVoices, currentVoices, currentMetaPrompt, currentStateConfig, onSave }: Props) {\n+  const { t } = useTranslation();\n   const [voices, setVoices] = useState<Record<string, VoiceConfig>>({});\n   const [metaPrompt, setMetaPrompt] = useState<string>('');\n   const [stateConfig, setStateConfig] = useState<StateConfig>(getStateConfig());\n@@ -93,6 +95,7 @@ export default function VoiceSettings({ defaultVoices, currentVoices, currentMet\n     }\n   }, [currentStateConfig]);\n \n+\n   const handleSave = async () => {\n     console.log('VoiceSettings: handleSave called');\n     try {\n@@ -203,6 +206,7 @@ export default function VoiceSettings({ defaultVoices, currentVoices, currentMet\n     input.click();\n   };\n \n+\n   const handleAddState = () => {\n     const newId = `state_${Date.now()}`;\n     setStateConfig({\n@@ -249,15 +253,15 @@ export default function VoiceSettings({ defaultVoices, currentVoices, currentMet\n             fontFamily: 'Georgia, serif',\n             letterSpacing: '-0.5px'\n           }}>\n-            The Voice Council\n+            {t('settings.heading')}\n           </h1>\n           <p style={{\n             margin: '6px 0 0',\n             fontSize: 14,\n             color: '#666',\n             fontStyle: 'italic'\n           }}>\n-            Configure your inner voices, the ones that comment on everything you write\n+            {t('settings.subheading')}\n           </p>\n         </div>\n \n@@ -295,9 +299,9 @@ export default function VoiceSettings({ defaultVoices, currentVoices, currentMet\n                 }\n               }}\n             >\n-              {tab === 'voices' && 'üé≠ Voices'}\n-              {tab === 'meta' && 'üìú Meta Prompt'}\n-              {tab === 'states' && 'üí≠ User States'}\n+              {tab === 'voices' && t('settings.tabs.voices')}\n+              {tab === 'meta' && t('settings.tabs.meta')}\n+              {tab === 'states' && t('settings.tabs.states')}\n             </button>\n           ))}\n "
    },
    {
      "sha": "f8d3dbceaf59c7a5e67dfdaeba5a20beffe027b4",
      "filename": "frontend/src/i18n.ts",
      "status": "added",
      "additions": 227,
      "deletions": 0,
      "changes": 227,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fi18n.ts",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fi18n.ts",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fi18n.ts?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -0,0 +1,227 @@\n+import i18n from 'i18next';\n+import { initReactI18next } from 'react-i18next';\n+\n+const LANGUAGE_STORAGE_KEY = 'ink-language';\n+\n+const resources = {\n+  en: {\n+    translation: {\n+      nav: {\n+        writing: 'Writing',\n+        timeline: 'Timeline',\n+        analysis: 'Reflections',\n+        decks: 'Decks',\n+        settings: 'Settings'\n+      },\n+      settings: {\n+        heading: 'The Voice Council',\n+        subheading: 'Configure the inner voices that annotate everything you write.',\n+        tabs: {\n+          voices: 'üé≠ Voices',\n+          meta: 'üìú Meta Prompt',\n+          states: 'üí≠ User States'\n+        },\n+        language: {\n+          title: 'Interface Language',\n+          description: 'Choose which language the UI uses while your writing stays untouched.',\n+          placeholder: 'Select a language',\n+          preview: 'Changes apply immediately to menus, buttons, and helper copy.',\n+          options: {\n+            en: 'English',\n+            zh: '‰∏≠Êñá (Chinese)'\n+          }\n+        }\n+      },\n+      analysis: {\n+        title: 'Reflections',\n+        subtitle: 'Patterns and insights woven through your words',\n+        backButton: 'Back',\n+        backTitle: 'Back to Dashboard',\n+        stats: {\n+          days: 'Days',\n+          entries: 'Entries',\n+          words: 'Words'\n+        },\n+        pastReflections: 'Past Reflections',\n+        report: {\n+          patternCount: '{{count}} patterns'\n+        },\n+        actions: {\n+          generate: 'Generate New Analysis',\n+          generating: 'Reflecting...'\n+        },\n+        empty: {\n+          title: 'Your story awaits analysis',\n+          description: 'Begin the journey to discover the patterns, themes, and essence woven through your words'\n+        }\n+      },\n+      deck: {\n+        heading: 'Voice Decks',\n+        subheading: 'Organize your inner voices into thematic collections',\n+        actions: {\n+          retry: 'Retry',\n+          create: '+ Create New Deck',\n+          creating: 'Creating...',\n+          addVoice: '+ Add Voice to this Deck',\n+          addingVoice: 'Adding...',\n+          install: 'Install',\n+          sync: 'Sync with Original',\n+          publish: 'Publish to Community',\n+          unpublish: 'Unpublish',\n+          delete: 'Delete Deck'\n+        },\n+        sections: {\n+          myDecks: 'My Decks',\n+          community: 'Community Decks ({{count}})'\n+        },\n+        labels: {\n+          system: 'System',\n+          noDescription: 'No description',\n+          voiceCount: '{{count}} voices',\n+          anonymous: 'Anonymous'\n+        },\n+        communityMeta: 'by {{author}} ¬∑ {{voices}} voices ¬∑ {{installs}} installs',\n+        communityEmpty: 'No published decks yet. Be the first to share!',\n+        confirm: {\n+          delete: 'Delete this deck and all its voices?',\n+          sync: 'Sync with original template? This will overwrite any changes you made to this deck.'\n+        }\n+      },\n+      timeline: {\n+        today: 'Today',\n+        generating: 'Generating...',\n+        entryCount_one: '{{count}} entry',\n+        entryCount_other: '{{count}} entries'\n+      }\n+    }\n+  },\n+  zh: {\n+    translation: {\n+      nav: {\n+        writing: 'ÂÜô‰Ωú',\n+        timeline: 'Êó∂Èó¥Á∫ø',\n+        analysis: 'ÂõûÈ°æ',\n+        decks: 'Âç°ÁªÑ',\n+        settings: 'ËÆæÁΩÆ'\n+      },\n+      settings: {\n+        heading: 'ÂøÉÁÅµËÆÆ‰ºö',\n+        subheading: 'Âú®ËøôÈáåÊï¥ÁêÜÈÇ£‰∫õ‰ºöÂØπ‰Ω†ÊñáÂ≠óÂèëË°®ËØÑËÆ∫ÁöÑÂ£∞Èü≥„ÄÇ',\n+        tabs: {\n+          voices: 'üé≠ Â£∞Á∫ø',\n+          meta: 'üìú ÂÖÉÊèêÁ§∫',\n+          states: 'üí≠ ÂøÉÊÉÖÁä∂ÊÄÅ'\n+        },\n+        language: {\n+          title: 'ÁïåÈù¢ËØ≠Ë®Ä',\n+          description: 'ÂàáÊç¢ÁïåÈù¢‰∏äÁöÑÊñáÂ≠óËØ≠Ë®ÄÔºåÊó•ËÆ∞ÂÜÖÂÆπ‰øùÊåÅÂéüÊ†∑„ÄÇ',\n+          placeholder: 'ÈÄâÊã©ËØ≠Ë®Ä',\n+          preview: 'ÂàáÊç¢ÂêéËèúÂçï„ÄÅÊåâÈíÆ‰∏éËØ¥Êòé‰ºöÁ´ãÂç≥Êõ¥Êñ∞„ÄÇ',\n+          options: {\n+            en: 'English (Ëã±ËØ≠)',\n+            zh: '‰∏≠Êñá'\n+          }\n+        }\n+      },\n+      analysis: {\n+        title: 'ÂõûÈ°æ',\n+        subtitle: 'ËØªÂá∫ÊñáÂ≠óÈáåÁºñÁªáÁöÑËÑâÁªú‰∏éÂêØÁ§∫',\n+        backButton: 'ËøîÂõû',\n+        backTitle: 'ÂõûÂà∞ÊÄªËßà',\n+        stats: {\n+          days: 'Â§©Êï∞',\n+          entries: 'ÁØáÁ´†',\n+          words: 'Â≠óÊï∞'\n+        },\n+        pastReflections: 'ÂéÜÂè≤ÂõûÈ°æ',\n+        report: {\n+          patternCount: '{{count}} ‰∏™Ê®°Âºè'\n+        },\n+        actions: {\n+          generate: 'ÁîüÊàêÂÖ®Êñ∞ÂàÜÊûê',\n+          generating: 'Ëß£Êûê‰∏≠...'\n+        },\n+        empty: {\n+          title: 'Á≠âÂæÖËß£ÊûêÁöÑÊïÖ‰∫ã',\n+          description: 'ÂºÄÂßãÊé¢Á¥¢ÊñáÂ≠óÈáåÂèçÂ§çÂá∫Áé∞ÁöÑ‰∏ªÈ¢ò„ÄÅÊÉÖÁª™‰∏éÁ∫øÁ¥¢'\n+        }\n+      },\n+      deck: {\n+          heading: 'Â£∞Á∫øÂç°ÁªÑ',\n+          subheading: '‰ª•‰∏ªÈ¢òÊï¥ÁêÜ‰Ω†ÁöÑÂøÉÁÅµÂ£∞Á∫ø',\n+          actions: {\n+            retry: 'ÈáçËØï',\n+            create: '+ Êñ∞Âª∫Âç°ÁªÑ',\n+            creating: 'Âª∫Á´ã‰∏≠...',\n+            addVoice: '+ ÂêëÂç°ÁªÑÊ∑ªÂä†Â£∞Á∫ø',\n+            addingVoice: 'Ê∑ªÂä†‰∏≠...',\n+            install: 'ÂÆâË£Ö',\n+            sync: '‰∏éÂéüÁâàÂêåÊ≠•',\n+            publish: 'ÂèëÂ∏ÉÂà∞Á§æÂå∫',\n+            unpublish: 'ÂèñÊ∂àÂèëÂ∏É',\n+            delete: 'Âà†Èô§Âç°ÁªÑ'\n+          },\n+        sections: {\n+          myDecks: 'ÊàëÁöÑÂç°ÁªÑ',\n+          community: 'Á§æÂå∫Âç°ÁªÑÔºà{{count}}Ôºâ'\n+        },\n+        labels: {\n+          system: 'Á≥ªÁªü',\n+          noDescription: 'ÊöÇÊó†ÁÆÄ‰ªã',\n+          voiceCount: '{{count}} Êù°Â£∞Á∫ø',\n+          anonymous: 'ÂåøÂêç'\n+        },\n+        communityMeta: 'Áî± {{author}} Âàõ‰Ωú ¬∑ {{voices}} Êù°Â£∞Á∫ø ¬∑ {{installs}} Ê¨°ÂÆâË£Ö',\n+        communityEmpty: 'Â∞öÊó†ÂÖ¨ÂºÄÂç°ÁªÑÔºåÊù•ÂÅöÁ¨¨‰∏Ä‰ΩçÂàÜ‰∫´ÁöÑ‰∫∫ÂêßÔºÅ',\n+        confirm: {\n+          delete: 'Á°ÆÂÆöÂà†Èô§Ëøô‰∏™Âç°ÁªÑ‰ª•ÂèäÊâÄÊúâÂ£∞Á∫øÔºü',\n+          sync: '‰∏éÂéüÊ®°ÊùøÂêåÊ≠•ÔºüËøô‰ºöË¶ÜÁõñ‰Ω†Âú®Âç°ÁªÑÈáåÁöÑ‰øÆÊîπ„ÄÇ'\n+        }\n+      },\n+      timeline: {\n+        today: '‰ªäÂ§©',\n+        generating: 'ÁîüÊàê‰∏≠...',\n+        entryCount_one: '{{count}} Êù°ËÆ∞ÂΩï',\n+        entryCount_other: '{{count}} Êù°ËÆ∞ÂΩï'\n+      }\n+    }\n+  }\n+};\n+\n+const fallback = 'en';\n+\n+function getInitialLanguage(): string {\n+  if (typeof window === 'undefined') {\n+    return fallback;\n+  }\n+  return localStorage.getItem(LANGUAGE_STORAGE_KEY) || fallback;\n+}\n+\n+i18n\n+  .use(initReactI18next)\n+  .init({\n+    resources,\n+    lng: getInitialLanguage(),\n+    fallbackLng: fallback,\n+    interpolation: {\n+      escapeValue: false\n+    }\n+  });\n+\n+if (typeof window !== 'undefined') {\n+  i18n.on('languageChanged', (lng) => {\n+    try {\n+      localStorage.setItem(LANGUAGE_STORAGE_KEY, lng);\n+    } catch (error) {\n+      console.warn('Failed to persist language preference:', error);\n+    }\n+  });\n+}\n+\n+export { LANGUAGE_STORAGE_KEY };\n+export function getDateLocale(language?: string | null): string {\n+  if (!language) return 'en-US';\n+  return language.startsWith('zh') ? 'zh-CN' : 'en-US';\n+}\n+\n+export default i18n;"
    },
    {
      "sha": "4a6c410890737c3241155a906da11bea92fe1113",
      "filename": "frontend/src/main.tsx",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fmain.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e/frontend%2Fsrc%2Fmain.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fmain.tsx?ref=e26ab7dff9efe3a3e5d938eda6aa64c9608a6f1e",
      "patch": "@@ -1,6 +1,7 @@\n import { StrictMode } from 'react'\n import { createRoot } from 'react-dom/client'\n import './index.css'\n+import './i18n'\n import App from './App.tsx'\n import { AuthProvider } from './contexts/AuthContext'\n "
    }
  ]
}