{
  "sha": "3b98f7a91039bd8edfa6495b4275c13df15c30ab",
  "node_id": "C_kwDOP2Zrm9oAKDNiOThmN2E5MTAzOWJkOGVkZmE2NDk1YjQyNzVjMTNkZjE1YzMwYWI",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-11-21T10:36:11Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-11-21T10:36:11Z"
    },
    "message": "Rewrite README with clear product vs tech sections",
    "tree": {
      "sha": "3ea13cbf932d181d61b1b110974602d07e73468d",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/3ea13cbf932d181d61b1b110974602d07e73468d"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/3b98f7a91039bd8edfa6495b4275c13df15c30ab",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/3b98f7a91039bd8edfa6495b4275c13df15c30ab",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/3b98f7a91039bd8edfa6495b4275c13df15c30ab",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/3b98f7a91039bd8edfa6495b4275c13df15c30ab/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "37bdcbfb94a08088bff3eca426535f3ebcf88ea9",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/37bdcbfb94a08088bff3eca426535f3ebcf88ea9",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/37bdcbfb94a08088bff3eca426535f3ebcf88ea9"
    }
  ],
  "stats": {
    "total": 126,
    "additions": 57,
    "deletions": 69
  },
  "files": [
    {
      "sha": "a8b63f8805bf447174ab325a3a0f0d85fed5ac99",
      "filename": "README.md",
      "status": "modified",
      "additions": 57,
      "deletions": 69,
      "changes": 126,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/3b98f7a91039bd8edfa6495b4275c13df15c30ab/README.md",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/3b98f7a91039bd8edfa6495b4275c13df15c30ab/README.md",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/README.md?ref=3b98f7a91039bd8edfa6495b4275c13df15c30ab",
      "patch": "@@ -1,67 +1,61 @@\n # Ink & Memory\n \n-Ink & Memory is a Disco Elysiumâ€“inspired journaling studio where your inner voices react to every sentence. It has grown beyond a concept demo into a multi-surface workspace with auto-save, calendar + timeline review, friend timelines, and per-user timezone awareness. English and Chinese are first-class citizens: the editor, calendar, timeline, voices, and prompts work in both languages from the first keystroke.\n+Ink & Memory is a Disco Elysiumâ€“inspired journaling studio where inner voices respond to every sentence. It has grown into a complete daily writing workspace with auto-save, calendar and timeline review, friend timelines, and per-user timezone awareness. The entire experience works in both English and Chinese from the first keystroke.\n \n-![Writing Area Screenshot](assets/writing-area.png)\n+![Writing area](assets/writing-area.png)\n \n-## âœ¨ Experience Highlights\n+---\n \n-- **Living Commentary** â€” Thirteen Disco-style voices (Logic, Empathy, Volition, etc.) watch your text and deliver contextual comments, each with unique color/highlight styling.\n-- **Dynamic Highlighting** â€” Trigger phrases are painted directly on the notebook, pairing each voiceâ€™s comment with the exact text that summoned it.\n-- **Stateful Engine** â€” The backend remembers prior comments, prevents duplicates, enforces per-voice density, and honors the current emotional state/cube selection.\n-- **English + Chinese Support** â€” The editor, calendar/timeline, and all voices operate seamlessly in either language. Titles, captions, and first-line extraction work with both scripts.\n-- **Auto-Save = Save** â€” Manual â€œSave todayâ€ and silent auto-save share identical logic, so every session writes `editor_state.createdAt`. Nothing gets lost, and the calendar/timeline stay synchronized.\n-- **Calendar + Timeline Unification** â€” Both surfaces consume the same grouped session data, so captions + timezones always match. Clicking a day loads the exact session with full comments.\n-- **Timezone-Aware Timeline** â€” Timestamps are stored in UTC but rendered in the viewerâ€™s local timezone. We also capture each userâ€™s preferred timezone to support future per-user scheduling.\n-- **Friend Timelines** â€” Select friends to compare their daily pictures/comments side-by-side, with gentle hint cards when no friend data exists.\n-- **Binder Aesthetic** â€” The UI is intentionally tactile with ring binders, Excalifont handwriting, and Xiaolai Chinese glyphs.\n+## What You Can Do\n \n-## ðŸŽ­ The Voices\n+- **Write in two languages** â€“ The notebook, highlights, captions, and voice comments support both English and Chinese, switching automatically with your text.\n+- **Hear your inner council** â€“ Thirteen Disco-style voices comment live, each with its own highlight color, icon, and persona.\n+- **Trust auto-save** â€“ Manual â€œSave todayâ€ and the silent auto-save share the exact same logic, so every session is persisted with `editor_state.createdAt` and can be reopened from the calendar or timeline.\n+- **Review your days** â€“ Calendar and timeline use the same grouped session data, so captions, pictures, and timestamps always match. Clicking a day reloads that precise session.\n+- **Compare with friends** â€“ Pin a friendâ€™s timeline to the right edge, complete with hint cards when they have no entries for a range of days.\n+- **See your time** â€“ All timestamps are stored in UTC but displayed in your local timezone. We also record your preferred timezone for future per-user scheduling.\n+- **Enjoy the binder aesthetic** â€“ Notebook rings, Excalifont handwriting, Xiaolai Chinese glyphs, and subtle textures keep the UI tactile.\n \n-All thirteen voices from Disco Elysium ship with the app: Logic, Empathy, Inland Empire, Volition, Drama, Authority, Half Light, Shivers, Composure, Encyclopedia, Conceptualization, Suggestion, and Electrochemistry. Each voice stores its history, applies its own highlight gradient, and responds in English or Chinese depending on your writing language.\n+---\n \n-## ðŸ—ï¸ Architecture\n+## The Voices\n+\n+All thirteen Disco Elysium archetypes are included: Logic, Empathy, Inland Empire, Volition, Drama, Authority, Half Light, Shivers, Composure, Encyclopedia, Conceptualization, Suggestion, and Electrochemistry. Each persona keeps its own comment history, avoids duplicates, and responds in the language you are currently writing in.\n+\n+---\n+\n+## Architecture Snapshot\n \n ### Frontend (React + TypeScript)\n-- TipTap editor with custom highlight/brush renderers\n-- Auto-save every 3 seconds (shared logic with manual save)\n-- Calendar/timeline share the same grouping helper (`utils/sessionGrouping.ts`)\n-- Friend timeline picker + hint cards\n-- Browser timezone detection -> sent to backend preferences\n+- TipTap editor with custom highlight brushes and per-voice overlays.\n+- Auto-save every 3 seconds using the same routine as manual saves.\n+- Shared session grouping helper (`src/utils/sessionGrouping.ts`) powers both the calendar popup and timeline view.\n+- Browser timezone detection synced to backend preferences.\n \n ### Backend (FastAPI + PolyCLI)\n-- Stateful analyzer enforcing density, deduplication, and history\n-- PolyCLI session registry + control panel for debugging\n-- Timeline scheduler capable of per-date generation (future: per-user timezone cadence)\n-- SQLite persistence with UTC timestamps (TZ forced at process start)\n+- Stateful analyzer enforcing density rules, deduplication, and emotional-state prompts.\n+- Timeline image scheduler (currently global, future per-user cadence) built on PolyCLI sessions.\n+- SQLite persistence with UTC timestamps (TZ forced at process start).\n+- Control panel and session registry for debugging and PolyCLI experiments.\n+\n+---\n \n-## ðŸš€ Setup\n+## Setup\n \n ### Prerequisites\n - Python 3.11+\n - Node.js 18+\n - [uv](https://github.com/astral-sh/uv) for Python package management\n \n ### Backend\n-\n ```bash\n cd backend\n-\n-# Create virtual environment and install dependencies\n uv venv\n-source .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n-\n-# Install PolyCLI (from parent directory)\n-cd ~/Codebase/PolyCLI\n-uv pip install -e .\n-\n-cd ~/Codebase/ink-and-memory/backend\n-\n-# Install additional dependencies\n+source .venv/bin/activate   # Windows: .venv\\\\Scripts\\\\activate\n+uv pip install -e ../PolyCLI\n uv pip install beautifulsoup4 requests 'httpx[socks]'\n \n-# Create models.json with your LLM API config\n-cat > models.json << 'EOC'\n+cat > models.json <<'EOC'\n {\n   \"models\": {\n     \"gpt-4o-dou\": {\n@@ -73,53 +67,48 @@ cat > models.json << 'EOC'\n }\n EOC\n \n-# Start server\n python server.py\n ```\n-\n-Server runs at `http://localhost:8765`\n+Runs at `http://localhost:8765`.\n \n ### Frontend\n-\n ```bash\n cd frontend\n-\n-# Install dependencies\n npm install\n-\n-# Start dev server\n npm run dev\n ```\n+Runs at `http://localhost:5173`.\n \n-App runs at `http://localhost:5173`\n-\n-## ðŸ“– Usage\n+---\n \n-1. Run backend + frontend\n-2. Compose in English or Chinese â€” voices respond immediately\n-3. Auto-save keeps every keystroke; manual â€œSave todayâ€ is only for calendar tagging\n-4. Calendar view lets you jump to any saved day, timeline shows daily pictures + captions\n-5. Friend timelines appear on the right, with hint cards when no data exists\n-6. Export/import your calendar via the built-in API endpoints\n+## Daily Workflow\n+1. Start backend + frontend.\n+2. Write in English or Chinese; voices respond immediately.\n+3. Auto-save handles persistence. â€œSave todayâ€ is optional if you want to tag the calendar entry.\n+4. Review prior days via the calendar or timeline; both use the same captions and timestamps.\n+5. Pin a friend timeline from the picker to compare side-by-side.\n+6. Export/import data via the built-in API endpoints when switching devices.\n \n-## ðŸ—ºï¸ Roadmap / TODO\n+---\n \n-- **Per-user timeline scheduling** â€” Scheduler still triggers in a single timezone. Now that each user preference stores `timezone`, we need to update the cron job + DB helpers to run at each userâ€™s local midnight.\n-- **Friend timezone awareness** â€” When we implement per-user scheduling, we should also adjust friend views to clarify which timezone each timeline reflects.\n-- **Open-source polish** â€” Document control-plane endpoints, linting scripts, and provide sample data/migrations for new deployments.\n+## Roadmap\n+- **Per-user timeline scheduling** â€“ Scheduler currently runs once per day using a single timezone; we now store `timezone` in preferences and will move to per-user cadence.\n+- **Friend timezone awareness** â€“ Friend timelines will eventually display which timezone their entries use once per-user scheduling lands.\n+- **Open-source polish** â€“ Document control-plane endpoints, linting, and seed data for new deployments.\n \n-## ðŸ“ Project Structure\n+---\n \n+## Project Structure\n ```\n ink-and-memory/\n â”œâ”€â”€ assets/                         # README screenshots, fonts, art\n â”‚   â””â”€â”€ writing-area.png            # Current product shot\n â”œâ”€â”€ backend/                        # FastAPI + PolyCLI server\n â”‚   â”œâ”€â”€ server.py                   # Main API entrypoint (UTC enforced)\n â”‚   â”œâ”€â”€ scheduler.py                # Timeline image cron\n-â”‚   â”œâ”€â”€ database.py                 # SQLite schema + helpers (user_sessions, prefs)\n+â”‚   â”œâ”€â”€ database.py                 # SQLite schema + helpers (sessions, prefs)\n â”‚   â”œâ”€â”€ config.py / prompts/        # Voice archetypes + system prompts\n-â”‚   â””â”€â”€ archive/                    # Research + vibe coding notes\n+â”‚   â””â”€â”€ archive/                    # Research + vibe-coding notes\n â””â”€â”€ frontend/                       # React + TipTap client\n     â”œâ”€â”€ src/App.tsx                 # Notebook, auto-save, timezone sync\n     â”œâ”€â”€ src/components/             # Calendar, timeline, friends, decks, etc.\n@@ -128,16 +117,15 @@ ink-and-memory/\n     â””â”€â”€ public/                     # Fonts, favicon, static assets\n ```\n \n-## ðŸ¤ Contributing\n+---\n \n-This is a personal experimental project, but feel free to fork and adapt!\n-\n-## ðŸ“œ License\n+## Contributing\n+This is still a personal experimental project, but feel free to fork and adapt.\n \n+## License\n MIT\n \n-## ðŸ™ Credits\n-\n+## Credits\n - Inspired by [Disco Elysium](https://discoelysium.com/)\n - Built with [PolyCLI](https://github.com/shuxueshuxue/PolyCLI)\n - Fonts: [Excalifont](https://github.com/excalidraw/excalidraw) & Xiaolai"
    }
  ]
}